{"ast":null,"code":"import nodemailer from 'nodemailer';\nconst transport = nodemailer.createTransport({\n  host: 'mail.dgroup.by',\n  port: 8010,\n  auth: {\n    user: 'postmaster',\n    pass: 'uTh3Eith'\n  }\n});\nexport default ((req, res) => {\n  console.log(req.body);\n\n  if (req.method === 'POST') {\n    const message = {\n      from: 'infov@dgroup.by',\n      to: 'kiryl.parfiankou.dev@gmail.com',\n      subject: 'Test message',\n      text: 'Have the most fun you can in a car. Get your Tesla today!'\n    };\n    transport.sendMail(message, function (err, info) {\n      if (err) {\n        console.log(err);\n      } else {\n        console.log(info);\n      }\n    });\n  } else {\n    res.statusCode = 405;\n    res.send();\n  }\n});\nexport const config = {\n  api: {\n    bodyParser: {\n      sizeLimit: '1mb'\n    }\n  }\n};","map":{"version":3,"sources":["/mnt/w/work/honey-ui-3/pages/api/email.js"],"names":["nodemailer","transport","createTransport","host","port","auth","user","pass","req","res","console","log","body","method","message","from","to","subject","text","sendMail","err","info","statusCode","send","config","api","bodyParser","sizeLimit"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,YAAvB;AAGA,MAAMC,SAAS,GAAGD,UAAU,CAACE,eAAX,CAA2B;AAC3CC,EAAAA,IAAI,EAAE,gBADqC;AAE3CC,EAAAA,IAAI,EAAE,IAFqC;AAG3CC,EAAAA,IAAI,EAAE;AACHC,IAAAA,IAAI,EAAE,YADH;AAEHC,IAAAA,IAAI,EAAE;AAFH;AAHqC,CAA3B,CAAlB;AASA,gBAAe,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC3BC,EAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACI,IAAhB;;AACA,MAAGJ,GAAG,CAACK,MAAJ,KAAe,MAAlB,EAA0B;AACxB,UAAMC,OAAO,GAAG;AACdC,MAAAA,IAAI,EAAE,iBADQ;AAEdC,MAAAA,EAAE,EAAE,gCAFU;AAGdC,MAAAA,OAAO,EAAE,cAHK;AAIdC,MAAAA,IAAI,EAAE;AAJQ,KAAhB;AAMAjB,IAAAA,SAAS,CAACkB,QAAV,CAAmBL,OAAnB,EAA4B,UAASM,GAAT,EAAcC,IAAd,EAAoB;AAC5C,UAAID,GAAJ,EAAS;AACPV,QAAAA,OAAO,CAACC,GAAR,CAAYS,GAAZ;AACD,OAFD,MAEO;AACLV,QAAAA,OAAO,CAACC,GAAR,CAAYU,IAAZ;AACD;AACJ,KAND;AAQD,GAfD,MAeO;AACLZ,IAAAA,GAAG,CAACa,UAAJ,GAAiB,GAAjB;AACAb,IAAAA,GAAG,CAACc,IAAJ;AACD;AACF,CArBD;AAuBA,OAAO,MAAMC,MAAM,GAAG;AACpBC,EAAAA,GAAG,EAAE;AACHC,IAAAA,UAAU,EAAE;AACVC,MAAAA,SAAS,EAAE;AADD;AADT;AADe,CAAf","sourcesContent":["import nodemailer from 'nodemailer';\r\n\r\n\r\nconst transport = nodemailer.createTransport({\r\n  host: 'mail.dgroup.by',\r\n  port: 8010,\r\n  auth: {\r\n     user: 'postmaster',\r\n     pass: 'uTh3Eith'\r\n  }\r\n});\r\n\r\nexport default (req, res) => {\r\n  console.log(req.body)\r\n  if(req.method === 'POST') {\r\n    const message = {\r\n      from: 'infov@dgroup.by',\r\n      to: 'kiryl.parfiankou.dev@gmail.com',\r\n      subject: 'Test message',\r\n      text: 'Have the most fun you can in a car. Get your Tesla today!'\r\n    };\r\n    transport.sendMail(message, function(err, info) {\r\n        if (err) {\r\n          console.log(err)\r\n        } else {\r\n          console.log(info);\r\n        }\r\n    });\r\n\r\n  } else {\r\n    res.statusCode = 405;\r\n    res.send();\r\n  }\r\n}\r\n\r\nexport const config = {\r\n  api: {\r\n    bodyParser: {\r\n      sizeLimit: '1mb',\r\n    },\r\n  },\r\n}"]},"metadata":{},"sourceType":"module"}