{"ast":null,"code":"import nodemailer from 'nodemailer';\nconst transport = nodemailer.createTransport({\n  host: 'mail.dgroup.by',\n  port: 25,\n  auth: {\n    user: 'postmaster@dgroup.by',\n    pass: 'uTh3Eith'\n  },\n  tls: {\n    rejectUnauthorized: false\n  }\n});\nexport default ((req, res) => {\n  console.log(req.body);\n\n  if (req.method === 'POST') {\n    try {\n      const message = {\n        from: 'infov@dgroup.by',\n        to: 'kiryl.parfiankou.dev@gmail.com',\n        subject: 'Test message',\n        text: 'Have the most fun you can in a car. Get your Tesla today!'\n      };\n      transport.sendMail(message, function (err, info) {\n        if (err) {\n          console.log(err);\n        } else {\n          console.log(info);\n        }\n      });\n    } catch (err) {\n      console.log(err);\n    }\n\n    res.statusCode = 200;\n    res.end();\n  } else {\n    res.statusCode = 405;\n    res.end();\n  }\n});\nexport const config = {\n  api: {\n    bodyParser: {\n      sizeLimit: '1mb'\n    }\n  }\n};","map":{"version":3,"sources":["/mnt/w/work/honey-ui-3/pages/api/email.js"],"names":["nodemailer","transport","createTransport","host","port","auth","user","pass","tls","rejectUnauthorized","req","res","console","log","body","method","message","from","to","subject","text","sendMail","err","info","statusCode","end","config","api","bodyParser","sizeLimit"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,YAAvB;AAGA,MAAMC,SAAS,GAAGD,UAAU,CAACE,eAAX,CAA2B;AAC3CC,EAAAA,IAAI,EAAE,gBADqC;AAE3CC,EAAAA,IAAI,EAAE,EAFqC;AAG3CC,EAAAA,IAAI,EAAE;AACHC,IAAAA,IAAI,EAAE,sBADH;AAEHC,IAAAA,IAAI,EAAE;AAFH,GAHqC;AAO3CC,EAAAA,GAAG,EAAE;AACDC,IAAAA,kBAAkB,EAAE;AADnB;AAPsC,CAA3B,CAAlB;AAYA,gBAAe,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC3BC,EAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACI,IAAhB;;AACA,MAAGJ,GAAG,CAACK,MAAJ,KAAe,MAAlB,EAA0B;AACxB,QAAI;AACF,YAAMC,OAAO,GAAG;AACdC,QAAAA,IAAI,EAAE,iBADQ;AAEdC,QAAAA,EAAE,EAAE,gCAFU;AAGdC,QAAAA,OAAO,EAAE,cAHK;AAIdC,QAAAA,IAAI,EAAE;AAJQ,OAAhB;AAMAnB,MAAAA,SAAS,CAACoB,QAAV,CAAmBL,OAAnB,EAA4B,UAASM,GAAT,EAAcC,IAAd,EAAoB;AAC5C,YAAID,GAAJ,EAAS;AACPV,UAAAA,OAAO,CAACC,GAAR,CAAYS,GAAZ;AACD,SAFD,MAEO;AACLV,UAAAA,OAAO,CAACC,GAAR,CAAYU,IAAZ;AACD;AACJ,OAND;AAQD,KAfD,CAeE,OAAOD,GAAP,EAAY;AACZV,MAAAA,OAAO,CAACC,GAAR,CAAYS,GAAZ;AACD;;AACDX,IAAAA,GAAG,CAACa,UAAJ,GAAiB,GAAjB;AACAb,IAAAA,GAAG,CAACc,GAAJ;AACD,GArBD,MAqBO;AACLd,IAAAA,GAAG,CAACa,UAAJ,GAAiB,GAAjB;AACAb,IAAAA,GAAG,CAACc,GAAJ;AACD;AACF,CA3BD;AA6BA,OAAO,MAAMC,MAAM,GAAG;AACpBC,EAAAA,GAAG,EAAE;AACHC,IAAAA,UAAU,EAAE;AACVC,MAAAA,SAAS,EAAE;AADD;AADT;AADe,CAAf","sourcesContent":["import nodemailer from 'nodemailer';\r\n\r\n\r\nconst transport = nodemailer.createTransport({\r\n  host: 'mail.dgroup.by',\r\n  port: 25,\r\n  auth: {\r\n     user: 'postmaster@dgroup.by',\r\n     pass: 'uTh3Eith'\r\n  },\r\n  tls: {\r\n      rejectUnauthorized: false\r\n  }\r\n});\r\n\r\nexport default (req, res) => {\r\n  console.log(req.body)\r\n  if(req.method === 'POST') {\r\n    try {\r\n      const message = {\r\n        from: 'infov@dgroup.by',\r\n        to: 'kiryl.parfiankou.dev@gmail.com',\r\n        subject: 'Test message',\r\n        text: 'Have the most fun you can in a car. Get your Tesla today!'\r\n      };\r\n      transport.sendMail(message, function(err, info) {\r\n          if (err) {\r\n            console.log(err)\r\n          } else {\r\n            console.log(info);\r\n          }\r\n      });\r\n\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n    res.statusCode = 200;\r\n    res.end();\r\n  } else {\r\n    res.statusCode = 405;\r\n    res.end();\r\n  }\r\n}\r\n\r\nexport const config = {\r\n  api: {\r\n    bodyParser: {\r\n      sizeLimit: '1mb',\r\n    },\r\n  },\r\n}"]},"metadata":{},"sourceType":"module"}